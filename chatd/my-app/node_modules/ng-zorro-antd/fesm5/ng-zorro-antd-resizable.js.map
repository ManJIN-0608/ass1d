{"version":3,"file":"ng-zorro-antd-resizable.js","sources":["ng://ng-zorro-antd/resizable/nz-resizable.service.ts","ng://ng-zorro-antd/resizable/nz-resizable.directive.ts","ng://ng-zorro-antd/resizable/nz-resize-handle.component.ts","ng://ng-zorro-antd/resizable/nz-resize-handles.component.ts","ng://ng-zorro-antd/resizable/nz-resizable.module.ts"],"sourcesContent":["/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Injectable, OnDestroy } from '@angular/core';\n\nimport { Subject } from 'rxjs';\n\nimport { NzResizeHandleMouseDownEvent } from './nz-resize-handle.component';\n\n@Injectable()\nexport class NzResizableService implements OnDestroy {\n  handleMouseDown$ = new Subject<NzResizeHandleMouseDownEvent>();\n  documentMouseUp$ = new Subject<void>();\n  mouseEntered$ = new Subject<boolean>();\n\n  constructor() {}\n\n  ngOnDestroy(): void {\n    this.handleMouseDown$.complete();\n    this.documentMouseUp$.complete();\n    this.mouseEntered$.complete();\n  }\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { Platform } from '@angular/cdk/platform';\nimport {\n  AfterViewInit,\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostListener,\n  Input,\n  NgZone,\n  OnDestroy,\n  Output,\n  Renderer2\n} from '@angular/core';\n\nimport { ensureInBounds, InputBoolean } from 'ng-zorro-antd/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { NzResizableService } from './nz-resizable.service';\nimport { NzResizeHandleMouseDownEvent } from './nz-resize-handle.component';\n\nexport interface NzResizeEvent {\n  width?: number;\n  height?: number;\n  col?: number;\n  mouseEvent?: MouseEvent;\n}\n\n@Directive({\n  selector: '[nz-resizable]',\n  providers: [NzResizableService],\n  host: {\n    '[class.nz-resizable]': 'true',\n    '[class.nz-resizable-resizing]': 'resizing',\n    '(mouseenter)': 'onMouseenter()',\n    '(mouseleave)': 'onMouseleave()'\n  }\n})\nexport class NzResizableDirective implements AfterViewInit, OnDestroy {\n  @Input() nzBounds: 'window' | 'parent' | ElementRef<HTMLElement> = 'parent';\n  @Input() nzMaxHeight: number;\n  @Input() nzMaxWidth: number;\n  @Input() nzMinHeight: number = 40;\n  @Input() nzMinWidth: number = 40;\n  @Input() nzGridColumnCount: number = -1;\n  @Input() nzMaxColumn: number = -1;\n  @Input() nzMinColumn: number = -1;\n  @Input() @InputBoolean() nzLockAspectRatio: boolean = false;\n  @Input() @InputBoolean() nzPreview: boolean = false;\n  @Output() readonly nzResize = new EventEmitter<NzResizeEvent>();\n  @Output() readonly nzResizeEnd = new EventEmitter<NzResizeEvent>();\n  @Output() readonly nzResizeStart = new EventEmitter<NzResizeEvent>();\n\n  resizing = false;\n  private elRect: ClientRect | DOMRect;\n  private currentHandleEvent: NzResizeHandleMouseDownEvent;\n  private ghostElement: HTMLDivElement | null;\n  private el: HTMLElement;\n  private sizeCache: NzResizeEvent | null;\n  private destroy$ = new Subject<void>();\n\n  constructor(\n    private elementRef: ElementRef<HTMLElement>,\n    private renderer: Renderer2,\n    private ngZone: NgZone,\n    private nzResizableService: NzResizableService,\n    private platform: Platform\n  ) {\n    this.nzResizableService.handleMouseDown$.pipe(takeUntil(this.destroy$)).subscribe(event => {\n      this.resizing = true;\n      this.currentHandleEvent = event;\n      this.setCursor();\n      this.nzResizeStart.emit({\n        mouseEvent: event.mouseEvent\n      });\n      this.elRect = this.el.getBoundingClientRect();\n    });\n  }\n\n  @HostListener('document:mouseup', ['$event'])\n  onMouseup($event: MouseEvent): void {\n    this.ngZone.runOutsideAngular(() => {\n      if (this.resizing) {\n        this.resizing = false;\n        this.nzResizableService.documentMouseUp$.next();\n        this.endResize($event);\n      }\n    });\n  }\n\n  @HostListener('document:mousemove', ['$event'])\n  onMousemove($event: MouseEvent): void {\n    this.ngZone.runOutsideAngular(() => {\n      if (this.resizing) {\n        this.resize($event);\n      }\n    });\n  }\n\n  onMouseenter(): void {\n    this.nzResizableService.mouseEntered$.next(true);\n  }\n\n  onMouseleave(): void {\n    this.nzResizableService.mouseEntered$.next(false);\n  }\n\n  setPosition(): void {\n    const position = getComputedStyle(this.el).position;\n    if (position === 'static' || !position) {\n      this.renderer.setStyle(this.el, 'position', 'relative');\n    }\n  }\n\n  calcSize(width: number, height: number, ratio: number): NzResizeEvent {\n    let newWidth: number;\n    let newHeight: number;\n    let col = 0;\n    let spanWidth = 0;\n    let maxWidth = Infinity;\n    let minWidth = this.nzMinWidth;\n    let maxHeight = Infinity;\n    let boundWidth = Infinity;\n    let boundHeight = Infinity;\n    if (this.nzBounds === 'parent') {\n      const parent = this.renderer.parentNode(this.el);\n      if (parent instanceof HTMLElement) {\n        const parentRect = parent.getBoundingClientRect();\n        boundWidth = parentRect.width;\n        boundHeight = parentRect.height;\n      }\n    } else if (this.nzBounds === 'window') {\n      if (typeof window !== 'undefined') {\n        boundWidth = window.innerWidth;\n        boundHeight = window.innerHeight;\n      }\n    } else if (this.nzBounds && this.nzBounds.nativeElement && this.nzBounds.nativeElement instanceof HTMLElement) {\n      const boundsRect = this.nzBounds.nativeElement.getBoundingClientRect();\n      boundWidth = boundsRect.width;\n      boundHeight = boundsRect.height;\n    }\n\n    maxWidth = ensureInBounds(this.nzMaxWidth, boundWidth);\n    maxHeight = ensureInBounds(this.nzMaxHeight, boundHeight);\n\n    if (this.nzGridColumnCount !== -1) {\n      spanWidth = maxWidth / this.nzGridColumnCount;\n      minWidth = this.nzMinColumn !== -1 ? spanWidth * this.nzMinColumn : minWidth;\n      maxWidth = this.nzMaxColumn !== -1 ? spanWidth * this.nzMaxColumn : maxWidth;\n    }\n\n    if (ratio !== -1) {\n      if (/(left|right)/i.test(this.currentHandleEvent.direction)) {\n        newWidth = Math.min(Math.max(width, minWidth), maxWidth);\n        newHeight = Math.min(Math.max(newWidth / ratio, this.nzMinHeight), maxHeight);\n        if (newHeight >= maxHeight || newHeight <= this.nzMinHeight) {\n          newWidth = Math.min(Math.max(newHeight * ratio, minWidth), maxWidth);\n        }\n      } else {\n        newHeight = Math.min(Math.max(height, this.nzMinHeight), maxHeight);\n        newWidth = Math.min(Math.max(newHeight * ratio, minWidth), maxWidth);\n        if (newWidth >= maxWidth || newWidth <= minWidth) {\n          newHeight = Math.min(Math.max(newWidth / ratio, this.nzMinHeight), maxHeight);\n        }\n      }\n    } else {\n      newWidth = Math.min(Math.max(width, minWidth), maxWidth);\n      newHeight = Math.min(Math.max(height, this.nzMinHeight), maxHeight);\n    }\n\n    if (this.nzGridColumnCount !== -1) {\n      col = Math.round(newWidth / spanWidth);\n      newWidth = col * spanWidth;\n    }\n\n    return {\n      col,\n      width: newWidth,\n      height: newHeight\n    };\n  }\n\n  setCursor(): void {\n    switch (this.currentHandleEvent.direction) {\n      case 'left':\n      case 'right':\n        this.renderer.setStyle(document.body, 'cursor', 'col-resize');\n        break;\n      case 'top':\n      case 'bottom':\n        this.renderer.setStyle(document.body, 'cursor', 'row-resize');\n        break;\n      case 'topLeft':\n      case 'bottomRight':\n        this.renderer.setStyle(document.body, 'cursor', 'nwse-resize');\n        break;\n      case 'topRight':\n      case 'bottomLeft':\n        this.renderer.setStyle(document.body, 'cursor', 'nesw-resize');\n        break;\n    }\n    this.renderer.setStyle(document.body, 'user-select', 'none');\n  }\n\n  resize($event: MouseEvent): void {\n    const elRect = this.elRect;\n    let width = elRect.width;\n    let height = elRect.height;\n    const ratio = this.nzLockAspectRatio ? width / height : -1;\n    switch (this.currentHandleEvent.direction) {\n      case 'bottomRight':\n        width = $event.clientX - elRect.left;\n        height = $event.clientY - elRect.top;\n        break;\n      case 'bottomLeft':\n        width = elRect.width + this.currentHandleEvent.mouseEvent.clientX - $event.clientX;\n        height = $event.clientY - elRect.top;\n        break;\n      case 'topRight':\n        width = $event.clientX - elRect.left;\n        height = elRect.height + this.currentHandleEvent.mouseEvent.clientY - $event.clientY;\n        break;\n      case 'topLeft':\n        width = elRect.width + this.currentHandleEvent.mouseEvent.clientX - $event.clientX;\n        height = elRect.height + this.currentHandleEvent.mouseEvent.clientY - $event.clientY;\n        break;\n      case 'top':\n        height = elRect.height + this.currentHandleEvent.mouseEvent.clientY - $event.clientY;\n        break;\n      case 'right':\n        width = $event.clientX - elRect.left;\n        break;\n      case 'bottom':\n        height = $event.clientY - elRect.top;\n        break;\n      case 'left':\n        width = elRect.width + this.currentHandleEvent.mouseEvent.clientX - $event.clientX;\n    }\n    const size = this.calcSize(width, height, ratio);\n    this.sizeCache = { ...size };\n    this.nzResize.emit({\n      ...size,\n      mouseEvent: $event\n    });\n    if (this.nzPreview) {\n      this.previewResize(size);\n    }\n  }\n\n  endResize($event: MouseEvent): void {\n    this.renderer.setStyle(document.body, 'cursor', '');\n    this.renderer.setStyle(document.body, 'user-select', '');\n    this.removeGhostElement();\n    const size = this.sizeCache\n      ? { ...this.sizeCache }\n      : {\n          width: this.elRect.width,\n          height: this.elRect.height\n        };\n    this.nzResizeEnd.emit({\n      ...size,\n      mouseEvent: $event\n    });\n    this.sizeCache = null;\n  }\n\n  previewResize({ width, height }: NzResizeEvent): void {\n    this.createGhostElement();\n    this.renderer.setStyle(this.ghostElement, 'width', `${width}px`);\n    this.renderer.setStyle(this.ghostElement, 'height', `${height}px`);\n  }\n\n  createGhostElement(): void {\n    if (!this.ghostElement) {\n      this.ghostElement = this.renderer.createElement('div');\n      this.renderer.setAttribute(this.ghostElement, 'class', 'nz-resizable-preview');\n    }\n    this.renderer.appendChild(this.el, this.ghostElement);\n  }\n\n  removeGhostElement(): void {\n    if (this.ghostElement) {\n      this.renderer.removeChild(this.el, this.ghostElement);\n    }\n  }\n\n  ngAfterViewInit(): void {\n    if (this.platform.isBrowser) {\n      this.el = this.elementRef.nativeElement;\n      this.setPosition();\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.ghostElement = null;\n    this.sizeCache = null;\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Input,\n  OnDestroy,\n  OnInit,\n  Output\n} from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { NzResizableService } from './nz-resizable.service';\n\nexport type NzResizeDirection =\n  | 'top'\n  | 'right'\n  | 'bottom'\n  | 'left'\n  | 'topRight'\n  | 'bottomRight'\n  | 'bottomLeft'\n  | 'topLeft';\n\nexport class NzResizeHandleMouseDownEvent {\n  constructor(public direction: NzResizeDirection, public mouseEvent: MouseEvent) {}\n}\n\n@Component({\n  selector: 'nz-resize-handle, [nz-resize-handle]',\n  templateUrl: './nz-resize-handle.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  host: {\n    '[class]': '\"nz-resizable-handle nz-resizable-handle-\" + nzDirection',\n    '[class.nz-resizable-handle-box-hover]': 'entered',\n    '(mousedown)': 'onMousedown($event)'\n  }\n})\nexport class NzResizeHandleComponent implements OnInit, OnDestroy {\n  @Input() nzDirection: NzResizeDirection = 'bottomRight';\n  @Output() readonly nzMouseDown = new EventEmitter<NzResizeHandleMouseDownEvent>();\n\n  entered = false;\n  private destroy$ = new Subject<void>();\n\n  constructor(private nzResizableService: NzResizableService, private cdr: ChangeDetectorRef) {}\n\n  ngOnInit(): void {\n    this.nzResizableService.mouseEntered$.pipe(takeUntil(this.destroy$)).subscribe(entered => {\n      this.entered = entered;\n      this.cdr.markForCheck();\n    });\n  }\n\n  onMousedown($event: MouseEvent): void {\n    this.nzResizableService.handleMouseDown$.next(new NzResizeHandleMouseDownEvent(this.nzDirection, $event));\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { ChangeDetectionStrategy, Component, Input, OnChanges, SimpleChanges } from '@angular/core';\n\nimport { NzResizeDirection } from './nz-resize-handle.component';\n\nexport const DEFAULT_RESIZE_DIRECTION: NzResizeDirection[] = [\n  'bottomRight',\n  'topRight',\n  'bottomLeft',\n  'topLeft',\n  'bottom',\n  'right',\n  'top',\n  'left'\n];\n\n@Component({\n  selector: 'nz-resize-handles',\n  templateUrl: './nz-resize-handles.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class NzResizeHandlesComponent implements OnChanges {\n  @Input() nzDirections: NzResizeDirection[] = DEFAULT_RESIZE_DIRECTION;\n  directions: Set<NzResizeDirection>;\n\n  constructor() {\n    this.directions = new Set(this.nzDirections);\n  }\n\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.nzDirections) {\n      this.directions = new Set(changes.nzDirections.currentValue);\n    }\n  }\n}\n","/**\n * @license\n * Copyright Alibaba.com All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://github.com/NG-ZORRO/ng-zorro-antd/blob/master/LICENSE\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\n\nimport { NzResizableDirective } from './nz-resizable.directive';\nimport { NzResizeHandleComponent } from './nz-resize-handle.component';\nimport { NzResizeHandlesComponent } from './nz-resize-handles.component';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [NzResizableDirective, NzResizeHandleComponent, NzResizeHandlesComponent],\n  exports: [NzResizableDirective, NzResizeHandleComponent, NzResizeHandlesComponent]\n})\nexport class NzResizableModule {}\n"],"names":["tslib_1.__decorate"],"mappings":"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"}